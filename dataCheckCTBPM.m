% comment out dataDirectory and plots in quickPhase to use.
close all;
clear all;
    
dataSets = {...
    'data/20141217_0930_Gate325to450_Gain0',...
    'data/20141217_0944_Gate325to450_Gain-30_Wiggle23Average',...
    'data/20141217_0944_Gate325to450_Gain-40_Wiggle23Average',...
    'data/20141217_0944_Gate325to450_Gain0_Wiggle23Average',...
    'data/20141217_1004_Gate325to450_Gain+30_Wiggle23Average',...
    'data/20141217_1004_Gate325to450_Gain-40_Wiggle23Average',...
    'data/20141217_1004_Gate325to450_Gain0_Wiggle23Average',...
    'data/20141217_1150_Gain0',...
    'data/20141217_1155_Gain30_Gate_325_460',...
    'data/20141217_1155_WigglePower15',...
    'data/20141217_1215_Wiggling15_more',...
    'data/20141217_1322_Wiggling15_more',...
    };


nDataSets = length(dataSets);


bpmName = 'CT.SVBPM0285H.Samples.samples.value';
bpmSamples = cell(1,nDataSets);

for i=1:nDataSets
    disp(dataSets{i})
    mergedData =  mergeMatMonData(dataSets{i});    
    bpmSamples{i} = extractCTFSignalFromMergedData(bpmName,mergedData);
    size(bpmSamples{i})
    
end

